var physics_twobody=function(){var n={u:[0,0,0,0],masses:{q:0,m1:1,m2:0,m12:0},eccentricity:0,positions:[{x:0,y:0},{x:0,y:0}],iteration:0},s={eccentricity:.7,q:.5,position:{x:1,y:0},velocity:{u:0}};function t(){var s;console.log("curr ecc",n.eccentricity),console.log("curr mass",n.masses.m12),n.masses.m2=n.masses.q,n.masses.m12=n.masses.m1+n.masses.m2,n.u[3]=(s=n.masses.q,Math.sqrt((1+s)*(1+n.eccentricity)))}function i(){for(var s=new Array(n.u.length),t=n.u.slice(0,2),i=Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2)),e=0;e<2;e++)s[e]=n.u[e+2],s[e+2]=-(1+n.masses.q)*t[e]/Math.pow(i,3);return s}return{resetStateToInitialConditions:function(){n.masses.q=s.q,n.eccentricity=s.eccentricity,n.u[0]=s.position.x,n.u[1]=s.position.y,n.u[2]=s.velocity.u,t()},updatePosition:function(){var s,t;rungeKutta.calculate(.15,n.u,i),r=1,s=n.masses.m2/n.masses.m12*r,t=n.masses.m1/n.masses.m12*r,n.positions[0].x=-t*n.u[0],n.positions[0].y=-t*n.u[1],n.positions[1].x=s*n.u[0],n.positions[1].y=s*n.u[1]},initialConditions:s,updateMassRatioFromUserInput:function(s){n.masses.q=s,t()},updateEccentricityFromUserInput:function(s){n.eccentricity=s,t()},state:n,separationBetweenObjects:function(){return s.position.x/(1-n.eccentricity)}}}();