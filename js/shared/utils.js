var userInput=function(){var o,e,n,t,i,s,a,r,c="mass",l=0;function u(e){return(w(t)-e.min)/(e.max-e.min)}function d(e){var t=p(),i=(console.log("updated to",e),void 0!==t.power&&(e=t.power%2==1?(i=u(t),oddPowerCurve.sliderOutputValue(i,e,t.power)):Math.pow(e,t.power)),t.min+(t.max-t.min)*e),i=Math.round(1e4*i)/1e4,t="mass"===c?(physics.initialConditions.masses[l]=i,graphics.updateObjectSizes(physics.calculateDiameters()),h(i)):m(physics.initialConditions.timeScaleFactor=i);o.innerText=t}function p(){var e="mass"===c?physics.initialConditions.massSlider:physics.initialConditions.timeScaleFactorSlider;return e}function y(e){return parseFloat(Math.round(1e4*e)/1e4).toFixed(4)}function h(e){var t=y(e),t=": "+(t=1e4<e?e.toExponential(4):t);return!0!==physics.initialConditions.dimensionless&&(t+=" kg"),t}function m(e){var e=function(t){var i=[{unit:"second",factor:1},{unit:"minute",factor:60},{unit:"hour",factor:60},{unit:"day",factor:24},{unit:"year",factor:365},{unit:"century",factor:100}];for(let e=0;e<i.length;e++){var s=i[e];if(t<s.factor)return{unit:s.unit,value:t};t/=s.factor}return{unit:"century",value:t}}(e),t=y(e.value);return t=": "+(t=1e4<e.value?e.value.toExponential(4):t)+" "+e.unit+" per second"}function v(){physics.resetStateToInitialConditions(),graphics.clearScene(physics.largestDistMeters()),graphics.updateObjectSizes(physics.calculateDiameters())}function w(e){e="mass"===c?e.masses[l]:e.timeScaleFactor;return e}function b(){classHelper.removeClass(n,"sliderMass1"),classHelper.removeClass(n,"sliderMass2"),classHelper.removeClass(n,"sliderMass3");var e,t=p(),i=w(physics.initialConditions);if("mass"===c)switch(e=h(physics.initialConditions.masses[l]),l){case 0:classHelper.addClass(n,"sliderMass1");break;case 1:classHelper.addClass(n,"sliderMass2");break;default:classHelper.addClass(n,"sliderMass3")}else console.log("time"),e=m(physics.initialConditions.timeScaleFactor);o.innerText=e;let s=(i-t.min)/(t.max-t.min);void 0!==t.power&&(s=t.power%2==1?(e=u(t),oddPowerCurve.sliderInputValue(e,s,t.power)):Math.pow(s,1/t.power),console.log(t.power)),console.log("resetting val to:",s),n.value=s}function f(e){t=e,physics.changeInitialConditions(t),v(),b()}function g(){console.log("Clicked slider"),console.log(e.selectedIndex),c="mass",3===e.selectedIndex&&(c="time"),l=e.selectedIndex,b()}function C(e){a.innerHTML=parseFloat(Math.round(100*e)/100).toFixed(2)}function S(e){r.innerHTML=parseFloat(Math.round(100*e)/100).toFixed(2)}return{init:function(){o=document.querySelector(".sliderLabel"),e=document.querySelector(".sliderDropdown"),n=document.getElementById("ok-but"),i=document.getElementById("ok-but-width"),t=simulations.init(),physics.changeInitialConditions(t),simulations.content.didChangeModel=f,n.oninput=e=>d(e.currentTarget.value),i.oninput=e=>{return e=e.currentTarget.value,graphics.updateLineWidth(5*parseFloat(e)),void v()},b(),e.onchange=g,i.value=.2,a=document.querySelector(".EarthOrbitSimulation-sunsMass"),r=document.querySelector(".EarthOrbitSimulation-eccentricity"),i=document.getElementById("mass-ratio"),s=document.getElementById("eccentricity"),i.oninput=e=>{return e=parseFloat(e.currentTarget.value),console.log("Updated"),0===e&&(e=.005),t=physics_twobody.state.eccentricity,physics_twobody.resetStateToInitialConditions(),graphics_twobody.clearScene(),physics_twobody.updateMassRatioFromUserInput(e),physics_twobody.updateEccentricityFromUserInput(t),graphics_twobody.updateObjectSizes(physics_twobody.state.masses.q,physics_twobody.separationBetweenObjects()),void C(e);var t},s.oninput=e=>{return e=parseFloat(e.currentTarget.value),t=physics_twobody.state.masses.q,physics_twobody.resetStateToInitialConditions(),graphics_twobody.clearScene(),physics_twobody.updateMassRatioFromUserInput(t),physics_twobody.updateEccentricityFromUserInput(e),S(e),void graphics_twobody.updateObjectSizes(physics_twobody.state.masses.q,physics_twobody.separationBetweenObjects());var t},C(physics_twobody.initialConditions.q),i.value=physics_twobody.initialConditions.q,S(physics_twobody.initialConditions.eccentricity),s.value=physics_twobody.initialConditions.eccentricity}}}(),rungeKutta={calculate:function(e,t,i){for(var s=[e/2,e/2,e,0],o=[e/6,e/3,e/3,e/6],n=[],a=[],r=t.length,c=0;c<r;c++)n.push(t[c]),a.push(0);for(var l=0;l<4;l++)for(var u=i(),c=0;c<r;c++)t[c]=n[c]+s[l]*u[c],a[c]=a[c]+o[l]*u[c];for(c=0;c<r;c++)t[c]=n[c]+a[c]}};