var physics=function(){var u={gravitationalConstant:6.67408*Math.pow(10,-11),averageDensity:1410},c={u:[0,0,0,0,0,0,0,0,0,0,0,0]},l={bodies:3};function i(s,t){for(var e,i,a,o=0,n=4*s,r=0;r<l.bodies;r++)s!==r&&(i=c.u[e=4*r]-c.u[n],a=c.u[1+e]-c.u[1+n],i=Math.sqrt(Math.pow(i,2)+Math.pow(a,2)),a=1,o+=(a=!0!==l.dimensionless?u.gravitationalConstant:a)*l.masses[r]*(c.u[e+t]-c.u[n+t])/Math.pow(i,3));return o}function t(){for(var s=new Array(4*l.bodies),t=0;t<l.bodies;t++){var e=4*t;s[e]=c.u[2+e],s[1+e]=c.u[3+e],s[2+e]=i(t,0),s[3+e]=i(t,1)}return s}return{resetStateToInitialConditions:function(){let s,t;for(s=0;s<l.bodies;s++){t=4*s;var e=l.positions[s],e=(c.u[t]=e.r*Math.cos(e.theta),c.u[t+1]=e.r*Math.sin(e.theta),l.velocities[s]);c.u[t+2]=e.r*Math.cos(e.theta),c.u[t+3]=e.r*Math.sin(e.theta)}var i=function(){for(var s={x:0,y:0},t=0,e=0;e<l.bodies;e++){var i=4*e;s.x+=l.masses[e]*c.u[2+i],s.y+=l.masses[e]*c.u[3+i],t+=l.masses[e]}return s.x/=t,s.y/=t,s}(),a=function(){for(var s={x:0,y:0},t=0,e=0;e<l.bodies;e++){var i=4*e;s.x+=l.masses[e]*c.u[i],s.y+=l.masses[e]*c.u[1+i],t+=l.masses[e]}return s.x/=t,s.y/=t,s}();for(s=0;s<l.bodies;s++)t=4*s,c.u[t]-=a.x,c.u[t+1]-=a.y,c.u[t+2]-=i.x,c.u[t+3]-=i.y},updatePosition:function(s){rungeKutta.calculate(s,c.u,t)},initialConditions:l,state:c,calculateDiameters:function(){for(var s,t=[],e=0;e<l.bodies;e++){var i=void 0!==l.densities&&l.densities.length>=l.bodies-1?l.densities[e]:u.averageDensity;t.push(2*(s=l.masses[e],i=i,Math.pow(.75*s/(Math.PI*i),1/3)))}return t},largestDistMeters:function(){for(var s=0,t=0;t<l.bodies;t++){var e=l.positions[t];s<e.r&&(s=e.r)}return s},changeInitialConditions:function(s){l.dimensionless=s.dimensionless,l.masses=s.masses.slice(),l.positions=s.positions,l.velocities=s.velocities,l.timeScaleFactor=s.timeScaleFactor,l.massSlider=s.massSlider,l.timeScaleFactorSlider=s.timeScaleFactorSlider,l.densities=s.densities,l.paleOrbitalPaths=s.paleOrbitalPaths},constants:u}}();